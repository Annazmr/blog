## 第一章 因果关系之梯

![因果之梯](https://github.com/Annazmr/Note/blob/master/%E4%B9%A6%26%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/img/The%20book%20of%20why%20%E5%9B%A0%E6%9E%9C%E4%B9%8B%E6%A2%AF.png)

1. **因果之梯的第一层级**

    要求我们基于被动观察作出预测。“如果我观察到......会怎样？”

    例如：“购买牙膏的顾客同时购买牙线的可能性有多大”，即条件概率 P(牙线｜牙膏)

2. **因果之梯的第二层级**

    要求我们掌握脱离于数据的新知识，即干预。

    “如果我们实施......行动，将会 怎样?”也即，如果我们改变环境会发生什么?这样的问题记作 P(牙线 |do(牙 膏))

    例如：“如果我们把牙膏的价格翻倍，牙线的销售额将会怎么样？”

3. **因果之梯的第三层级**

    要求我们具备反事实推测的能力。“假如我当时做了......会怎样？为什么？”

    例如：“假如我们把牙膏的价格提高一倍，则之前买了牙膏的顾客仍然选择购买的概率是多少?””

## 第三章 从证据到因：逆概率问题
**福尔摩斯式问题**：需要多少证据才能让我们相信，我们原本认为不可能发生的事情真的发生了?在何种情况下，某个假设才会越过绝不可能的界限抵达不大可能，甚至变为可能或确凿无疑呢?

#### 1. 包含两个连接节点的网络
**一个示例**

一位40岁的女性做了乳房 X 光检查以检测乳腺癌，其得到的检测结果为阳性。假设D(代表“疾病”)指她得了癌症，证据 T(代表“检测”)指乳房X光检查的结果。那么，她应该在多大程度上相信这个假设?她应该做手术吗?（D=1表示患病，T=1表示检测为阳性（检测患病））

$$D的更新概率 = P(D|T) = 似然比 * D的先验概率$$

- 其中“似然比”由P(T/D)/P(T)给定

如果40岁女性做乳房 X 光检查，假阳性（未患病而检测为阳性）率约为12%，如果该女性已患病，则检测出阳性的概率为73%，在 700 名女性中，平均只有 1 人患有乳腺癌，另外 699 人则未患乳腺癌。
加权平均值计算如下：

$$P(T)=(1/700)*(73\%)+(699/700)*(12\%)=12.1\%$$

似然比为：73%/12.1% = 6
D的更新概率为：6*1/700=1/116

#### 2. 包含三个连接节点网络（junction，接合）

接合有三种基本类型或形式，借助这些基本形式，我们就可以在网络中表征出所有的箭头模式。

1. A→B→C。这种接合形式是被称为“链”接合或中介接合的最简单的表现形，B是某种机制或“中介物”，它将A的效应传递给C。

    例如：“火灾→烟雾→警报”。火灾本身并没有引起警报，也不会通过任何其他的变量（比如高温）来引发警报，只有火灾向空气中释放的烟雾分子才会触发警报。如果我们禁用这个链中的第二个连接，例如我们利用通风管道吸走了所有的烟雾分子，那么警报就不会被触发了。

2. A←B→C。这种接合形式被称为“叉”接合，B通常被视作A和C的共因(common cause)或混杂因子(confounder)。

    例如：“鞋的尺码←孩子的年龄→ 阅读能力”。穿较大码的鞋的孩子往往阅读能力较强。但这种关系是非因果的，给孩子穿大一号的鞋不会让他有更强的阅读能力!相反，这两个变量的变化都可以通过第三个变量，即孩子的年龄来解释。越年长的孩子鞋码越大，他们的阅读能力也越强。

3. A→B←C。这种接合形式被称作“对撞”(collider)接合，这种负相关有时被称为对撞偏倚或“辩解”效应(explain-away effect)

    例如：才华→名人←美貌。在此，我们认定才华和美貌都有助于演员的成功，但对于一般人而言，美貌和才华完全不相关。

## 第四章 混杂和去混杂/消灭潜伏变量

1. 混杂偏倚(confounding bias)

    “混杂因子”又叫“潜伏的第三变量”，其中随机对照实验的目的是消除混杂。

2. 因果革命的其他消除混杂的方法（混杂的新范式）


